!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([function(e){e.exports=JSON.parse('[{"order_id":1233488768,"orders":[{"id":1,"journey_date":"01/01/2022","departure":"Oslo","dept_code":"OSL","destination":"Brussels","dest_code":"BRU","departure_time":"4:30PM","arrival_time":"6.25PM","layover_info":"Nonstop","total_journey_time":"1h 55m","flight_no":"SAS 4745","flight_name":"SCANDINAVIAN AIRLINES","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"}]},{"order_id":46548789687,"orders":[{"id":1,"journey_date":"11/11/2021","departure":"Madrid","dept_code":"MAD","destination":"Rome","dest_code":"FCO","departure_time":"8:30PM","arrival_time":"10.25PM","layover_info":"Nonstop","total_journey_time":"2h 35m","flight_no":"Iberia 3238","flight_name":"IBERIA - LINEAS AEREAS DE ESPANA","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"},{"id":2,"journey_date":"01/10/2021","departure":"Mumbai","dept_code":"BOM","destination":"Barcelona","dest_code":"BCN","departure_time":"00:05AM","arrival_time":"10.25PM","layover_info":"Nonstop","total_journey_time":"10h 55m","flight_no":"KLM 4745","flight_name":"KLM ROYAL DUTCH AIRLINES","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"}]},{"order_id":3238789687,"orders":[{"id":1,"journey_date":"11/11/2021","departure":"Madrid","dept_code":"MAD","destination":"Rome","dest_code":"FCO","departure_time":"8:30PM","arrival_time":"10.25PM","layover_info":"Nonstop","total_journey_time":"2h 35m","flight_no":"Iberia 3238","flight_name":"IBERIA - LINEAS AEREAS DE ESPANA","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"},{"id":2,"journey_date":"01/10/2021","departure":"Mumbai","dept_code":"BOM","destination":"Barcelona","dest_code":"BCN","departure_time":"00:05AM","arrival_time":"10.25PM","layover_info":"Nonstop","total_journey_time":"10h 55m","flight_no":"KLM 4745","flight_name":"KLM ROYAL DUTCH AIRLINES","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"},{"id":3,"journey_date":"01/10/2021","departure":"Barcelona","dept_code":"BCN","destination":"Mumbai","dest_code":"BOM","departure_time":"02:00AM","arrival_time":"09.25PM","layover_info":"Nonstop","total_journey_time":"10h 55m","flight_no":"AIR 4745","flight_name":"Air India","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"}]},{"order_id":6876789687,"orders":[{"id":1,"journey_date":"11/11/2021","departure":"Madrid","dept_code":"MAD","destination":"Rome","dest_code":"FCO","departure_time":"8:30PM","arrival_time":"10.25PM","layover_info":"Nonstop","total_journey_time":"2h 35m","flight_no":"Iberia 3238","flight_name":"IBERIA - LINEAS AEREAS DE ESPANA","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"},{"id":2,"journey_date":"01/10/2021","departure":"Mumbai","dept_code":"BOM","destination":"Barcelona","dest_code":"BCN","departure_time":"00:05AM","arrival_time":"10.25PM","layover_info":"Nonstop","total_journey_time":"10h 55m","flight_no":"KLM 4745","flight_name":"KLM ROYAL DUTCH AIRLINES","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"},{"id":3,"journey_date":"01/10/2021","departure":"Barcelona","dept_code":"BCN","destination":"Mumbai","dest_code":"BOM","departure_time":"02:00AM","arrival_time":"09.25PM","layover_info":"Nonstop","total_journey_time":"10h 55m","flight_no":"AIR 4745","flight_name":"Air India","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"},{"id":3,"journey_date":"01/11/2021","departure":"Mumbai","dept_code":"BOM","destination":"Pune","dest_code":"PUN","departure_time":"10:00PM","arrival_time":"11.25PM","layover_info":"Nonstop","total_journey_time":"1h 25m","flight_no":"AIR 4747","flight_name":"Air India","iconUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/P-51_Mustang_edit1.jpg/330px-P-51_Mustang_edit1.jpg"}]}]')},function(e){e.exports=JSON.parse('{"rowCount":1,"totalCount":1,"composition":{"variables":[{"variable":"p_image","visibilityAreaSelector":".ext-product-image","canHide":true,"hidden":false},{"variable":"p_name","visibilityAreaSelector":".ext-product-name","canHide":true,"hidden":false},{"variable":"p_vendor_code","visibilityAreaSelector":".ext-product-vendor-code","canHide":true,"hidden":true},{"variable":"p_dimensions","visibilityAreaSelector":".ext-product-dimensions","canHide":true,"hidden":true},{"variable":"p_price","visibilityAreaSelector":".ext-product-price","canHide":true,"hidden":false},{"variable":"p_button","visibilityAreaSelector":".ext-product-button","canHide":true,"hidden":false}]}}')},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var i={name:null,iconClass:null,uniqueClassName:null,canBeSavedToLibrary:!1,settingsCssPath:null,previewCssPath:null,i18n:{},blockName:null,emptyContainerIcon:!1,blockType:null,blockConfigAttributeNames:[],controlsToCreate:[],blockControls:[],isEnabled:function(){return!0},emailInitialized:function(e){},onSelectBlock:function(e,t){},getBlockLayoutToDrop:function(){return"<td>Default block</td>"},blockDropped:function(e){},getBlockLabel:function(e){return"Default block"},getDefaultSettingsPanelState:function(e){return{}},onCleanLayout:function(e,t){},onBlockCopy:function(e,t){}},o={en:{"block.name":"Header","preview.label":"Header"},ru:{"block.name":"Шапка","preview.label":"Шапка"}};var r=n(0);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=l(l({},{onActivated:function(){this.registerSettingsEventListener("layoutChanged",this.layoutChanged.bind(this))},layoutChanged:function(){this.applyThemeFromConfig(),this.updateControlVisibility()},applyThemeFromConfig:function(){this.themeKey&&this.isControlVisible()&&this.panelState.blockConfig.theme[this.themeKey]&&this.updateControlValue(this.panelState.blockConfig.theme[this.themeKey])},controlValueUpdated:function(e){this.themeKey&&(this.panelState.blockConfig.theme[this.themeKey]=e,this.updateBlockConfiguration())},updateLayout:function(e){this.extension.updateLayout(e)},updateBlockConfiguration:function(){this.extension.blockConfigurationService.setBlockConfiguration(this.jElement,this.panelState.blockConfig)},translate:function(e,t){return this.extension.stripoApi.translate(e,t)},isValuableBlock:function(){return!!this.panelState.blockConfig.groups.length}}),{},{name:"demo_flightStopCount_control",render:function(){this.jContainer.html(this.getControlMarkup()),this.numberSelector=this.jContainer.find("number-selector")[0],this.numberSelector.props.onChange=this.onChange.bind(this)},onChange:function(e){var t=this;this.extension.stripoApi.runWithDelay("totalCountChange",(function(){t.updateLayout(e),t.applyChangesImmediately()}),300)},getControlMarkup:function(){return'<number-selector label="Flight Stop" \n            min="0" step="1"></number-selector>'}});n(1);function u(e,t,n){!function(e){function t(e){var t=e.attr("esd-dev-demo-config");return t?JSON.parse(t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&quot;/g,'"')):null}}();function i(e){console.log(r);var t=$(".stripo-preview-frame");for(var n in t.contents().find("#flightCustomBlock> tbody").empty(),null===(i=r[e])||void 0===i?void 0:i.orders){var i;a(r[e].orders[n])}}function a(e){$(".stripo-preview-frame").contents().find("#flightCustomBlock> tbody").append(function(e){var t='<tr class="order-details-#FLIGHT_ID#" style="border:1px solid">\n        <td style="width:100%;">\n    <div style="padding:5px"><strong>Flight #FLIGHT_ID# : &nbsp&nbsp #JOURNEY_DATE#</strong></div>\n    <div style="padding:5px"><small style="color:#555">#DEPARTURE#  &nbsp&nbsp&nbsp #DESTINATION# </small></div>\n    <div style="padding:5px"><strong>#DEPT_CODE#  &nbsp&nbsp&nbsp #DEPARTURE_TIME# &nbsp&nbsp&nbsp\n    -> &nbsp&nbsp&nbsp #DEST_CODE# &nbsp&nbsp&nbsp  #ARRV_TIME#\n    &nbsp&nbsp&nbsp #LAYOVER_INFO#  &nbsp&nbsp&nbsp #TOTAL_JOURNEY_TIME#</strong></div>\n    <div style="padding:5px"><small style="color:#555">#FLIGHT_NO#  operated by  #FLIGHT_NAME#</small></div></td></tr>';return function(e){return[{key:"#FLIGHT_ID#",value:e.id},{key:"#JOURNEY_DATE#",value:e.journey_date},{key:"#DEPARTURE#",value:e.departure},{key:"#DESTINATION#",value:e.destination},{key:"#DEPT_CODE#",value:e.dept_code},{key:"#DEPARTURE_TIME#",value:e.departure_time},{key:"#DEST_CODE#",value:e.dest_code},{key:"#ARRV_TIME#",value:e.arrival_time},{key:"#LAYOVER_INFO#",value:e.layover_info},{key:"#TOTAL_JOURNEY_TIME#",value:e.total_journey_time},{key:"#FLIGHT_NO#",value:e.flight_no},{key:"#FLIGHT_NAME#",value:e.flight_name}]}(e).forEach((function(e){t=t.replace(new RegExp(e.key,"gi"),e.value)})),t}(e))}return{name:"DemoBlockWithPopupSettings",iconClass:"es-icon-header",uniqueClassName:"demo-header-block",canBeSavedToLibrary:!0,settingsCssPath:"/assets/css/settings.css",i18n:o,blockName:"Flight Details",blockType:"structure",blockConfigAttributeNames:["esd-dev-product-config"],controlsToCreate:[{control:s}],blockControls:["demo_flightStopCount_control"],getBlockLayoutToDrop:function(){return'    <td class="esd-structure" align="left">\n    <table cellpadding="0" cellspacing="0" width="100%">\n        <tbody>\n            <tr>\n                <td width="560" class="esd-container-frame" align="center" valign="top">\n                    <table cellpadding="0" cellspacing="0" width="100%" id="flightCustomBlock">\n                        <tbody>\n                            <tr>\n                                <td>\n                                    <span class="es-icon-image" title="flightCustomBlock"></span>\n                                    <span class="block-text">Flight Block Added</span>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</td>'},blockDropped:function(e){e.find(">.esd-structure-type").html(t.translate("flight-details"))},onSelectBlock:function(e,t){t.showCustomBlockSettings},getBlockLabel:function(e){return"Flight Details"},updateLayout:function(e){i(e)}}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={create:function(e,t,n){return Object.assign(c(c({stripoConfig:e,stripoApi:t,extensionBasePath:n},i),u(0,t)))}};self.DemoHeaderBlockExtension=m}]);